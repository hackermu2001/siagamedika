/*!
 * Start Bootstrap - SB Admin 2 v4.1.3 (https://startbootstrap.com/theme/sb-admin-2)
 * Copyright 2013-2023 Start Bootstrap
 * Licensed under MIT (https://github.com/StartBootstrap/startbootstrap-sb-admin-2/blob/master/LICENSE)
 */

!function(d){"use strict";d("#sidebarToggle, #sidebarToggleTop").on("click",function(a){d("body").toggleClass("sidebar-toggled"),d(".sidebar").toggleClass("toggled"),d(".sidebar").hasClass("toggled")&&d(".sidebar .collapse").collapse("hide")}),d(window).resize(function(){d(window).width()<768&&d(".sidebar .collapse").collapse("hide"),d(window).width()<480&&!d(".sidebar").hasClass("toggled")&&(d("body").addClass("sidebar-toggled"),d(".sidebar").addClass("toggled"),d(".sidebar .collapse").collapse("hide"))}),d("body.fixed-nav .sidebar").on("mousewheel DOMMouseScroll wheel",function(a){var t;768<d(window).width()&&(t=(t=a.originalEvent).wheelDelta||-t.detail,this.scrollTop+=30*(t<0?1:-1),a.preventDefault())}),d(document).on("scroll",function(){100<d(this).scrollTop()?d(".scroll-to-top").fadeIn():d(".scroll-to-top").fadeOut()}),d(document).on("click","a.scroll-to-top",function(a){var t=d(this);d("html, body").stop().animate({scrollTop:d(t.attr("href")).offset().top},1e3,"easeInOutExpo"),a.preventDefault()});let t=1;function n(){var a=`
          <tr id="row${t}">
              <td><input type="text" name="txtNamaBrand[]" class="border-0 w-100 bg-transparent p-0 m-0" style="color: grey; box-sizing: border-box;" placeholder="Isi Nama Brand..."></td>
              <td><button class="btn btn-circle btn-sm btn-danger mx-2 remove-row" name="remove" id="${t}" type="button"><i class="fas fa-trash"></i></button></td>
          </tr>
      `;t++,d(".brand_input").append(a)}function r(){var a=d(this).attr("id");d(`#row${a}`).remove()}d(document).ready(function(){d("#add-row").click(n),d(document).on("click",".remove-row",r),d("#submit_brand").click(function(){let e=!0;const o=[];d("input[name='txtNamaBrand[]']").each(function(){const a=d(this).val().trim();if(""===a)return e=!1;var t=a.toLowerCase();if(o.includes(t))return e=!1,alert("Nama brand '"+a+"' sudah ada dalam daftar."),!1;o.push(t)}),e&&d.ajax({url:"php/function_php/brand_insert.php",method:"POST",data:d("#add_brand").serialize(),success:function(a){alert("Selamat data kamu telah berhasil di masukkan"),window.location.reload(),d("#add_brand")[0].reset(),d(".brand_input tr:not(:first)").remove(),t=0;d(".brand_input tbody").append(`
                      <tr id="row_input">
                          <td><input type="text" name="txtNamaBrand[]" class="border-0 w-100 bg-transparent p-0 m-0" style="color: grey; box-sizing: border-box;" placeholder="Isi Nama Brand..."></td>
                          <td><button class="btn btn-circle btn-sm btn-primary mx-2" id="add-row" type="button"><i class="fas fa-plus"></i></button></td>
                      </tr>
                      `),t++,d("#add-row").click(n),d(document).on("click",".remove-row",r)}})}),d(document).on("click",".delete-brand",function(){var a=d(this).data("sku"),t=d(this).closest("tr");d.ajax({url:"php/function_php/brand_hapus.php",method:"POST",data:{skuToDelete:a},success:function(a){alert("Data berhasil dihapus"),t.remove(),location.reload()}})}),d(document).on("click",".edit-save-brand",function(){var a,t=d(this).closest("tr"),e=d(this).data("sku"),o=t.find(".editable-cell[data-column='NamaBrand']");t.hasClass("editing")?""!==(a=o.text().trim())?d.ajax({url:"php/function_php/brand_update.php",method:"POST",data:{skuToEdit:e,updatedNamaBrand:a},success:function(a){"Brand sudah ada di database"===a?alert(a):(alert("Brand berhasil diperbarui"),location.reload())}}):alert("NamaBrand tidak boleh kosong"):(t.addClass("editing"),o.attr("contenteditable",!0),d(this).removeClass("btn-primary").addClass("btn-success").html('<i class="fas fa-check"></i>'))}),d(".editable-cell").attr("contenteditable",!1)})}(jQuery);